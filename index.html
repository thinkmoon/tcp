<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>TCP可靠传输-连续ARQ协议</title>
</head>
<script src="static/js/pixi.js"></script>

<body class="docker">

</body>
<script type="text/javascript">
    // 定义路由器数组
    let router = [], label = []
    //Aliases
    let Application = PIXI.Application,
        loader = PIXI.loader,
        resources = PIXI.loader.resources,
        Sprite = PIXI.Sprite,
        Text = PIXI.Text,
        Graphics = PIXI.Graphics;
    let app = new Application({
        width: 1024,         // default: 800
        height: 600,        // default: 600
        antialias: true,    // default: false
        transparent: false, // default: false
        backgroundColor: 0xFFFFFF,
        resolution: 1,       // default: 1
    });

    loader
        .add("routerImage", "static/img/router.png")
        .load(setup);
    document.body.appendChild(app.view);
    function play(delta) {
        
    }
    // 初始化
    function setup() {
        //加载主机A
        router[0] = new Sprite(resources.routerImage.texture);
        router[0].x = 100;
        router[0].y = 250;
        app.stage.addChild(router[0])
        //主机Alabel
        label[0] = new Text("主机A");
        app.stage.addChild(label[0]);
        label[0].position.set(100, 320);
        // 加载主机B
        router[1] = new Sprite(resources.routerImage.texture);
        router[1].x = 860;
        router[1].y = 250;
        app.stage.addChild(router[1])
        // 主机Blabel
        label[1] = new Text("主机B");
        app.stage.addChild(label[1]);
        label[1].position.set(860, 320);
        // 初始化连接线
        var line = new Graphics();
        line.lineStyle(4, 0x000000, 1);
        line.moveTo(184, 0);
        line.lineTo(840, 0);
        line.x = 0;
        line.y = 280;
        app.stage.addChild(line);
        //set the game state to `play`
        state = play;
        //Start the game loop
        app.ticker.add(delta => gameLoop(delta));
    }
    function gameLoop(delta) {
        //Update the current game state:
        state(delta);
    }
</script>
<style type="text/css">
    .docker {
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
    }
</style>

</html>